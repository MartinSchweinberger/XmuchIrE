---
title: "X-much CXN in IrE - Part 1: Pos tagging"
author: "Anonymous"
date: "`r format(Sys.time(), '%Y-%m-%d')`"
output:
  word_document
bibliography: bibliography.bib
link-citations: yes
---

This document focuses on the use of the X-much construction in Irish English. 

This part of the analysis performs the part-of-speech tagging of the data.

# Session preparation

In a first step, we prepare the session by cleaning the workspace, loading packages, setting options, and defining paths.

```{r xmprep_1_01}
# clean workspace
rm(list=ls(all=T))
# load packages
library(tidyverse)
library(here)
library(readxl)
library(flextable)
library(quanteda)
# setting options
options(stringsAsFactors = F)
```

# Writing function for pos tagging

```{r xmpos_1_03}
# write function
glowbe_post <- function(gfiles){
  sapply(gfiles, function(x){
    # extract names
    filename <- str_remove_all(x, ".*/")
    filename <- str_remove_all(filename, ".txt")
    x <- readLines(con = x, n = -1L, ok = TRUE, warn = TRUE, encoding = "unknown", skipNul = T)
    # split data on \t
    x <- strsplit(x, "\t")
    # select first three elements
    x <- sapply(x, function(y){ y <- y[c(1:3)] })
    # convert into data.frames
    x <- t(x)
    x <- as.data.frame(x)
    # paste words and pos tags together
    x <- apply(x, 1, function(y){
      y <- paste(y[1], "/", y[3], sep = "") })
    # paste words together
    x <- paste(x, collapse = " ")
    # add names
    names(x) <- filename
    writeLines(text = x, con = paste("D:\\Uni\\Korpora\\Edited\\GloWbe_postagged/", names(x),".txt", sep = ""))
    rm(list=ls(all=T))
  })
  }
```


apply function to data

```{r xmpos_1_05}
# defining path
path <- "D:\\Uni\\Korpora\\Original\\GloWbE\\Ireland\\WordLemmaPos"
# extract files
gfiles = list.files(path = path, pattern = NULL, all.files = T, full.names = T, recursive = T, ignore.case = T, include.dirs = T)
# apply function
glowbe_post(gfiles = gfiles) #(remove # to to activate)
```

extract session information

```{r}
session.info()
```


***

The END

***
